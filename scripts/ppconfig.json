{"name":"CoCoEditorPlus","url":"https://coco.codemao.cn/home","showName":"CoCoEditorPlus","appid":"com.CoCoEditorPlus.app","icon":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":false,"version":"1.0.0","preview":"desktop","platform":["1-1"],"width":800,"height":600,"desc":"","jsFile":[],"filterCss":"","customJs":"const hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('origin', origin, isBaseTargetBlank)\n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('handle origin', origin)\n        location.href = origin.href\n    } else {\n        console.log('not handle origin', origin)\n    }\n}\n\nwindow.open = function (url, target, features) {\n    console.log('open', url, target, features)\n    location.href = url\n}\n\ndocument.addEventListener('click', hookClick, { capture: true })\n\nif (location.href.includes('//coco.codemao.cn/editor/')) {\n    (function() {\n        \"use strict\";\n        var dataTransfer = {\n            setData(n, v) {\n                this[n] = v;\n            },\n            getData(n) {\n                return this[n];\n            }\n        };\n        \n        setInterval(() => {\n            document.querySelectorAll(`*[class*=\"WidgetList_widgetItem\"]`).forEach((e) => {\n                if (e.cococlick) return;\n                e.cococlick = true;\n                e.draggable = false;\n                e.style.cursor = \"pointer\";\n                \n                e.addEventListener(\"click\", function () {\n                    var sen = document.querySelector(`*[class*=\"PreviewArea_main\"]`);\n                    if (!sen) return;\n                    \n                    var x = sen.offsetLeft + sen.offsetWidth / 2;\n                    var y = sen.offsetTop + sen.offsetHeight / 2;\n                    var keys = Object.keys(e);\n                    var key = keys.find((e) => e.startsWith(\"__reactEventHandlers\"));\n                    \n                    if (!e[key]) return;\n                    \n                    \n                    e[key].onDragStart({\n                        target: e,\n                        dataTransfer,\n                        persist: () => true,\n                        clientX: x,\n                        clientY: y,\n                        x: x + 100,\n                        y\n                    });\n                    \n                    var stage = document.querySelector(`*[class*=\"PreviewArea_stage\"]`);\n                    if (stage && stage[key]) {\n                        stage[key].onDragOver({ preventDefault() {} });\n                        stage[key].onDrop({\n                            dataTransfer,\n                            persist: () => true,\n                            clientX: x + 142,\n                            clientY: y - 3,\n                            x: x + 100,\n                            y\n                        });\n                    }\n                    \n                   \n                    if (e.dataset.widgetType == \"BRUSH_WIDGET\" || e.dataset.widgetType == \"ACTOR_WIDGET\") {\n                        document.querySelectorAll(`*[data-widget-type=\"CANVAS_WIDGET\"][id*=\"CANVAS_WIDGET\"]`).forEach((en, _, array) => {\n                            function click(ew) {\n                                if (!en[key]) return;\n                                \n                                en[key].onDragEnter({\n                                    dataTransfer,\n                                    persist: () => true,\n                                    stopPropagation: () => true,\n                                });\n                                \n                                if (stage && stage[key]) {\n                                    stage[key].onDragOver({ preventDefault() {} });\n                                }\n                                \n                                en[key].onDrop({\n                                    dataTransfer,\n                                    persist: () => true,\n                                    stopPropagation: () => true,\n                                    clientX: ew.clientX,\n                                    clientY: ew.clientY,\n                                    x: ew.x,\n                                    y: ew.y\n                                });\n                                \n                                if (stage && stage[key]) {\n                                    stage[key].onDrop({\n                                        dataTransfer,\n                                        persist: () => true,\n                                    });\n                                }\n                                \n                                array.forEach(e => e.removeEventListener(\"click\", e.cococlickfunc, false));\n                                if (e[key]) e[key].onDragEnd();\n                            }\n                            \n                            en.cococlickfunc = click;\n                            en.addEventListener(\"click\", click, false);\n                        });\n                    } else {\n                        if (e[key]) e[key].onDragEnd();\n                    }\n                });\n            });\n        }, 100);\n    })();\n}","isHtml":false,"htmlPath":"","htmlFiles":[],"more":{"windows":{"label":"CoCoEditorPlus","title":"CoCoEditorPlus","url":"https://coco.codemao.cn/home","userAgent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36","width":800,"height":600,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"CoCoEditorPlus","showName":"CoCoEditorPlus","version":"1.0.0","webUrl":"https://coco.codemao.cn/home","id":"com.CoCoEditorPlus.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"android":{"name":"CoCoEditorPlus","showName":"CoCoEditorPlus","version":"1.0.0","webUrl":"https://coco.codemao.cn/home","id":"com.CoCoEditorPlus.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途）","isHtml":false,"debug":false},"desktop":{"name":"CoCoEditorPlus","showName":"CoCoEditorPlus","version":"1.0.0","id":"com.CoCoEditorPlus.app.desktop","desc":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","webUrl":"https://coco.codemao.cn/home","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"Package for personal use only, please do not use for commercial purposes（打包仅限个人使用，请勿传播或商业用途，否则后果自负）","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":false}}